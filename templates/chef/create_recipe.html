<!-- templates/chef/create_recipe.html  (used for both create and edit) -->
{% extends 'base/base.html' %}
{% load static %}

{% block title %}
    {% if recipe %}Edit{% else %}Create New{% endif %} Recipe - Dbara
{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center display-4 fw-bold mb-5" style="color:#ffd700;">
        {% if recipe %}Edit Recipe{% else %}Create New Recipe{% endif %}
    </h1>

    <div class="col-md-8 mx-auto">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-4">
                <label class="form-label fw-bold">Title</label>
                <input type="text" name="title" class="form-control form-control-lg" 
                       value="{{ recipe.title|default:'' }}" required>
            </div>

            <div class="mb-4">
                <label class="form-label fw-bold">Description</label>
                <textarea name="description" class="form-control" rows="8" required>{{ recipe.description|default:'' }}</textarea>
            </div>

            <div class="row g-3 mb-4">
                <div class="col-md-4">
                    <label class="form-label fw-bold">Prep Time (min)</label>
                    <input type="number" name="prep_time" class="form-control" 
                           value="{{ recipe.prep_time|default:'' }}" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label fw-bold">Cook Time (min)</label>
                    <input type="number" name="cook_time" class="form-control" 
                           value="{{ recipe.cook_time|default:'' }}" required>
                </div>
                <div class="col-md-4">
                    <label bicarbonate class="form-label fw-bold">Servings</label>
                    <input type="number" name="servings" class="form-control" 
                           value="{{ recipe.servings|default:'' }}" required>
                </div>
            </div>

            <div class="mb-4">
                <label class="form-label fw-bold">Images (you can add more)</label>
                <input type="file" name="images" multiple accept="image/*" class="form-control">
                {% if recipe %}
                    <small class="text-muted">Current images will stay. Upload new ones to add.</small>
                {% endif %}
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-warning btn-lg px-5 fw-bold">
                    {% if recipe %}Update Recipe{% else %}Publish Recipe{% endif %}
                </button>
                <a href="{% url 'accounts:chef_dashboard' %}" class="btn btn-secondary btn-lg px-5">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}